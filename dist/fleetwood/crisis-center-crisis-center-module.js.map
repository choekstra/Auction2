{"version":3,"sources":["webpack:///./src/app/crisis-center/crisis-center-home.component.ts","webpack:///./src/app/crisis-center/crisis-center-routing.module.ts","webpack:///./src/app/crisis-center/crisis-center.component.ts","webpack:///./src/app/crisis-center/crisis-center.module.ts","webpack:///./src/app/crisis-center/crisis-detail-resolver.service.ts","webpack:///./src/app/crisis-center/crisis-detail.component.ts","webpack:///./src/app/crisis-center/crisis-list.component.ts","webpack:///./src/app/crisis-center/crisis.service.ts"],"names":[],"mappings":"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","file":"crisis-center-crisis-center-module.js","sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  template: `\n    <p>Welcome to the Crisis Center</p>\n  `\n})\nexport class CrisisCenterHomeComponent { }\n","import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { CrisisCenterHomeComponent } from './crisis-center-home.component';\nimport { CrisisListComponent }       from './crisis-list.component';\nimport { CrisisCenterComponent }     from './crisis-center.component';\nimport { CrisisDetailComponent }     from './crisis-detail.component';\n\nimport { CanDeactivateGuard }     from '../can-deactivate-guard.service';\nimport { CrisisDetailResolver }   from './crisis-detail-resolver.service';\n\nconst crisisCenterRoutes: Routes = [\n  {\n    path: '',\n    component: CrisisCenterComponent,\n    children: [\n      {\n        path: '',\n        component: CrisisListComponent,\n        children: [\n          {\n            path: ':id',\n            component: CrisisDetailComponent,\n            canDeactivate: [CanDeactivateGuard],\n            resolve: {\n              crisis: CrisisDetailResolver\n            }\n          },\n          {\n            path: '',\n            component: CrisisCenterHomeComponent\n          }\n        ]\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(crisisCenterRoutes)\n  ],\n  exports: [\n    RouterModule\n  ],\n  providers: [\n    CrisisDetailResolver\n  ]\n})\nexport class CrisisCenterRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  template:  `\n    <h2>CRISIS CENTER</h2>\n    <router-outlet></router-outlet>\n  `\n})\nexport class CrisisCenterComponent { }\n","import { NgModule }       from '@angular/core';\nimport { FormsModule }    from '@angular/forms';\nimport { CommonModule }   from '@angular/common';\n\nimport { CrisisService }        from './crisis.service';\n\nimport { CrisisCenterComponent }     from './crisis-center.component';\nimport { CrisisListComponent }       from './crisis-list.component';\nimport { CrisisCenterHomeComponent } from './crisis-center-home.component';\nimport { CrisisDetailComponent }     from './crisis-detail.component';\n\nimport { CrisisCenterRoutingModule } from './crisis-center-routing.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    CrisisCenterRoutingModule\n  ],\n  declarations: [\n    CrisisCenterComponent,\n    CrisisListComponent,\n    CrisisCenterHomeComponent,\n    CrisisDetailComponent\n  ],\n  providers: [\n    CrisisService\n  ]\n})\nexport class CrisisCenterModule {}\n","import { Injectable }             from '@angular/core';\nimport { Router, Resolve, RouterStateSnapshot,\n         ActivatedRouteSnapshot } from '@angular/router';\nimport { Observable }             from 'rxjs';\nimport { map, take }              from 'rxjs/operators';\n\nimport { Crisis, CrisisService }  from './crisis.service';\n\n@Injectable()\nexport class CrisisDetailResolver implements Resolve<Crisis> {\n  constructor(private cs: CrisisService, private router: Router) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Crisis> {\n    let id = route.paramMap.get('id');\n\n    return this.cs.getCrisis(id).pipe(\n      take(1),\n      map(crisis => {\n        if (crisis) {\n          return crisis;\n        } else { // id not found\n          this.router.navigate(['/crisis-center']);\n          return null;\n        }\n      })\n    );\n  }\n}\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { slideInDownAnimation }   from '../animations';\nimport { Crisis }         from './crisis.service';\nimport { DialogService }  from '../dialog.service';\n\n@Component({\n  template: `\n  <div *ngIf=\"crisis\">\n    <h3>\"{{ editName }}\"</h3>\n    <div>\n      <label>Id: </label>{{ crisis.id }}</div>\n    <div>\n      <label>Name: </label>\n      <input [(ngModel)]=\"editName\" placeholder=\"name\"/>\n    </div>\n    <p>\n      <button (click)=\"save()\">Save</button>\n      <button (click)=\"cancel()\">Cancel</button>\n    </p>\n  </div>\n  `,\n  styles: ['input {width: 20em}'],\n  animations: [ slideInDownAnimation ]\n})\nexport class CrisisDetailComponent implements OnInit {\n  @HostBinding('@routeAnimation') routeAnimation = true;\n  @HostBinding('style.display')   display = 'block';\n  @HostBinding('style.position')  position = 'absolute';\n\n  crisis: Crisis;\n  editName: string;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    public dialogService: DialogService\n  ) {}\n\n  ngOnInit() {\n    this.route.data\n      .subscribe((data: { crisis: Crisis }) => {\n        this.editName = data.crisis.name;\n        this.crisis = data.crisis;\n      });\n  }\n\n  cancel() {\n    this.gotoCrises();\n  }\n\n  save() {\n    this.crisis.name = this.editName;\n    this.gotoCrises();\n  }\n\n  canDeactivate(): Observable<boolean> | boolean {\n    // Allow synchronous navigation (`true`) if no crisis or the crisis is unchanged\n    if (!this.crisis || this.crisis.name === this.editName) {\n      return true;\n    }\n    // Otherwise ask the user with the dialog service and return its\n    // observable which resolves to true or false when the user decides\n    return this.dialogService.confirm('Discard changes?');\n  }\n\n  gotoCrises() {\n    let crisisId = this.crisis ? this.crisis.id : null;\n    // Pass along the crisis id if available\n    // so that the CrisisListComponent can select that crisis.\n    // Add a totally useless `foo` parameter for kicks.\n    // Relative navigation back to the crises\n    this.router.navigate(['../', { id: crisisId, foo: 'foo' }], { relativeTo: this.route });\n  }\n}\n","import { Component, OnInit }        from '@angular/core';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\n\nimport { Crisis, CrisisService } from './crisis.service';\nimport { Observable }            from 'rxjs';\nimport { switchMap }             from 'rxjs/operators';\n\n@Component({\n  template: `\n    <ul class=\"items\">\n      <li *ngFor=\"let crisis of crises$ | async\"\n        [class.selected]=\"crisis.id === selectedId\">\n        <a [routerLink]=\"[crisis.id]\">\n          <span class=\"badge\">{{ crisis.id }}</span>{{ crisis.name }}\n        </a>\n      </li>\n    </ul>\n\n    <router-outlet></router-outlet>\n  `\n})\nexport class CrisisListComponent implements OnInit {\n  crises$: Observable<Crisis[]>;\n  selectedId: number;\n\n  constructor(\n    private service: CrisisService,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.crises$ = this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        this.selectedId = +params.get('id');\n        return this.service.getCrises();\n      })\n    );\n  }\n}\n","import { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport class Crisis {\n  constructor(public id: number, public name: string) { }\n}\n\nconst CRISES = [\n  new Crisis(1, 'Dragon Burning Cities'),\n  new Crisis(2, 'Sky Rains Great White Sharks'),\n  new Crisis(3, 'Giant Asteroid Heading For Earth'),\n  new Crisis(4, 'Procrastinators Meeting Delayed Again'),\n];\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CrisisService {\n  static nextCrisisId = 100;\n  private crises$: BehaviorSubject<Crisis[]> = new BehaviorSubject<Crisis[]>(CRISES);\n\n  getCrises() { return this.crises$; }\n\n  getCrisis(id: number | string) {\n    return this.getCrises().pipe(\n      map(crises => crises.find(crisis => crisis.id === +id))\n    );\n  }\n\n  addCrisis(name: string) {\n    name = name.trim();\n    if (name) {\n      let crisis = new Crisis(CrisisService.nextCrisisId++, name);\n      CRISES.push(crisis);\n      this.crises$.next(CRISES);\n    }\n  }\n}\n"],"sourceRoot":""}